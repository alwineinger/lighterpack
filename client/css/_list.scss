@import "globals";

.lpList {
    background: inherit;
    min-height: 100%;
    padding: 0 20px;
    position: relative;
    transition: all $transitionDurationSlow;
    z-index: $aboveSidebar;

    .lpHasSidebar & {
        margin-left: 320px;
    }
}

#totals {
    margin: 0;
    padding: 0 0 0 10px;
    text-align: left;
}

#chart.activeHover {
    cursor: pointer;
}

.lpCategories {
    margin: 0;
    padding: 0;
}

.lpCategory {
    border: 2px solid transparent;
    list-style: none;
    margin: 0 0 20px;

    &.dropAccept {
        background: $yellow2;
    }

    &.dropHover {
        background: $green2;
    }

    &.gu-mirror {
        background: #f7f7f7;
        border: 1px solid #999;
    }
}

#lpListDescription {
    h2 {
        border-bottom: 1px solid #aaa;
    }
}

input.lpCategoryName { /* specificity */
    border: 1px solid transparent;
    flex: 1 0 300px;
    font-size: 16px;
    font-weight: 600;
    padding-bottom: 0;
}

.lpSubtotal {
    text-align: right;
    white-space: nowrap;
}

.lpSubtotalUnit {
    border-left: 1px solid transparent;
    display: inline-block;
    padding-left: 5px;
    padding-right: 23px;
    width: 43px;
}

.lpDisplaySubtotal,
.lpTotalValue {
    padding-right: 4px;
}

.lpItems {
    margin: 0;
    padding: 0;
    width: 100%;
}

.lpItem,
.lpItemsHeader,
.lpItemsFooter {
    align-items: center;
    border-top: 1px dotted #aaa;
    display: flex;
    flex-direction: row;
    justify-content: stretch;

    &.gu-mirror {
        background: #f7f7f7;
        border: 1px solid #999;
    }

    .lpHandleCell {
        flex: 0 0 12px;
        padding-right: 4px;
    }

    .lpImageCell {
        flex: 0 1 clamp(64px, 10vw, 90px);

        .lpItemImage {
            cursor: pointer;
            max-width: 90px;
            position: relative;
            top: 3px;
        }
    }

    .lpName {
        flex: 2 1 clamp(140px, 20vw, 260px);
        margin-right: 4px;
        min-width: 0;
    }

    .lpDescription {
        flex: 3 1 clamp(160px, 25vw, 340px);
        margin-right: 4px;
        min-width: 0;
    }

    .lpActionsCell {
        align-self: center;
        flex: 0 1 clamp(96px, 14vw, 130px);
        min-width: 0;
    }

    .lpWeightCell {
        flex: 0 1 clamp(94px, 12vw, 110px);
        min-width: 0;

        .lpWeight {
            max-width: 100%;
            width: 50px;
        }
    }

    .lpPriceCell {
        flex: 0 1 clamp(60px, 8vw, 72px);
        margin-right: 4px;
        min-width: 0;

        .lpPrice {
            max-width: 100%;
            width: 66px;
        }
    }

    .lpQtyCell {
        flex: 0 1 clamp(56px, 8vw, 66px);
        min-width: 0;

        .lpQty {
            max-width: 100%;
            width: 39px;
        }
    }

    .lpRemoveCell {
        align-self: center;
        flex: 0 0 20px;
    }

    .lpCategoryName { /* Header */
        flex: 1 1 auto;
    }

    .lpAddItemCell { /* Footer */
        flex: 1 1 auto;
    }
}

.lpItemsHeader {
    align-items: center;
    border-bottom: 1px solid #aaa;
    border-top: none;
    color: #555;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.02em;
    min-height: 36px;
    text-transform: uppercase;

    .lpCategoryName {
        letter-spacing: normal;
        text-transform: none;
    }
}

.lpItemsFooter {
    border-top-style: solid;
    justify-content: flex-end;
}

.lpActionsCell {
    align-items: center;
    display: flex;
    flex-wrap: nowrap;
    gap: 4px;
    justify-content: flex-start;

    .lpWorn,
    .lpConsumable,
    .lpCamera,
    .lpLink,
    .lpStar {
        cursor: pointer;
        display: none;
        margin-right: 0;
        opacity: 0.5;

        &:hover {
            opacity: 1;
        }

        &.lpActive,
        &.lpStar1,
        &.lpStar2,
        &.lpStar3 {
            display: inline-block;
            opacity: 1;
        }
    }
}

.lpHeader {
    .lpWeightCell,
    .lpQtyCell,
    .lpPriceCell {
        text-align: center;
    }
}

.lpName,
.lpDescription,
.lpWeight,
.lpPrice,
.lpQty {
    min-width: 0;
}

@media only screen and (max-width: 820px) {
    #main {
        max-width: 100%;
        min-height: 100dvh;
        padding-bottom: calc(24px + env(safe-area-inset-bottom));
    }

    .lpList {
        padding: 0 max(12px, env(safe-area-inset-left)) 0 max(12px, env(safe-area-inset-right));

        .lpHasSidebar & {
            margin-left: 0;
        }
    }

    #header {
        background: $background1;
        margin: 0 0 12px;
        position: sticky;
        top: 0;
        z-index: 40;
    }

    .lpItemsHeader {
        border: 1px solid #d2d2d2;
        border-radius: 10px;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 8px;
        padding: 10px;

        .lpHandleCell,
        .lpPriceCell,
        .lpWeightCell,
        .lpQtyCell {
            display: none;
        }

        .lpCategoryName {
            flex: 1 1 100%;
        }

        .lpRemoveCell {
            align-self: center;
            flex: 0 0 auto;
        }
    }

    .lpItem,
    .lpItemsFooter {
        align-items: flex-start;
        border: 1px solid #d2d2d2;
        border-radius: 10px;
        display: grid;
        gap: 8px;
        grid-template-columns: 1fr 1fr;
        margin-bottom: 8px;
        padding: 10px;

        .lpHandleCell {
            display: none;
        }

        .lpImageCell,
        .lpName,
        .lpDescription,
        .lpActionsCell,
        .lpWeightCell,
        .lpPriceCell,
        .lpQtyCell,
        .lpRemoveCell,
        .lpAddItemCell {
            flex: none;
            width: 100%;
        }

        .lpName,
        .lpDescription,
        .lpAddItemCell {
            grid-column: 1 / -1;
        }

        .lpActionsCell,
        .lpRemoveCell {
            align-items: center;
            display: flex;
            justify-content: flex-start;
        }

        .lpRemove,
        .lpWorn,
        .lpConsumable,
        .lpCamera,
        .lpLink,
        .lpStar,
        .lpHandle,
        .lpArrows {
            display: inline-block;
        }

        .lpWeight,
        .lpQty,
        .lpPrice {
            font-size: 16px;
            min-height: 38px;
        }
    }

    .lpItemsFooter {
        border-style: dashed;
    }

    input.lpCategoryName {
        flex-basis: 100%;
    }
}
